<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Healthy Barrio | Supplies</title>
    <link rel="icon" type="image/x-icon" href="assets/img/logo.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css"
      rel="stylesheet"
    />
    <script
      src="https://use.fontawesome.com/releases/v6.3.0/js/all.js"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link href="css/sidenav.css" rel="stylesheet" />
    <link href="css/supplies.css" rel="stylesheet" />
  </head>
  <body>
    <div id="layoutSidenav">
      <!-- Sidebar -->
      <div class="dash_card vertical-card side-nav-card">
        <div class="card-body">
          <div id="layoutSidenav_nav">
            <nav class="sb-sidenav ms-2" id="sidenavAccordion">
              <div id="barangay-container">
                <span class="bold-text"></span>
                <span id="barangay-name"></span>
              </div>
              <div>
                <img
                  src="assets/img/user1.png"
                  height="100px"
                  width="100px"
                  alt=""
                />
                <div class="fw-bold ps-2 pt-2 fs-6 pb-3" id="user_logged"></div>
              </div>
              <div class="sb-sidenav-menu">
                <div class="nav">
                  <a class="nav-link" href="dashboard.html">
                    <div class="sb-nav-link-icon">
                      <i class="fa-solid fa-table-columns"></i>
                    </div>
                    Dashboard
                  </a>
                  <div id="nav_admin_pages"></div>
                  <a class="nav-link" href="citizen.html">
                    <div class="sb-nav-link-icon">
                      <i class="fa-solid fa-person"></i>
                    </div>
                    Citizens
                  </a>
                  <a class="nav-link active" href="supplies.html">
                    <div class="sb-nav-link-icon">
                      <i class="fa-solid fa-suitcase-medical"></i>
                    </div>
                    Supplies
                  </a>
                  <div class="nav-item mt-auto">
                    <button id="btn_logout" class="nav-link">
                      <div class="sb-nav-link-icon ms-2 ps-1">
                        <i class="fa-solid fa-sign-out-alt"></i>
                      </div>
                      Logout
                    </button>
                  </div>
                </div>
              </div>
            </nav>
          </div>
        </div>
      </div>
      <!-- End Sidebar -->

      <div id="supplies_content">
        <main>
          <!-- Content -->
          <div class="custom-container p-0">
            <div class="row ms-5 ps-2 mb-4">
              <!-- Sticky Header for Timestamp -->
              <div class="row sticky-header">
                <div class="col-12 col-md-6">
                  <h5
                    class="timestamp"
                    id="currentTimestamp"
                    style="font-size: 14px"
                  ></h5>
                </div>
              </div>
            </div>

            <!-- Supplies Management Card -->
            <div class="card mt-3">
              <div class="card-header">
                <h5 class="text mb-0" style="font-size: 24px">
                  Supplies Management
                </h5>
              </div>
              <div class="card-body">
                <!-- Table Section -->
                <div class="row mt-3 sup_table">
                  <table class="table">
                    <tbody>
                      <tr>
                        <td class="med fw-bold" style="font-size: 18px">
                          Medicine
                        </td>
                        <td class="buttons d-flex gap-2">
                          <button
                            class="btn_add btn-sm btn-primary"
                            data-bs-toggle="modal"
                            data-bs-target="#medicine_modal"
                          >
                            Add
                          </button>
                          <a href="med.html">
                            <button class="btn_view btn-sm btn-info">
                              View
                            </button>
                          </a>
                        </td>
                      </tr>
                      <tr>
                        <td class="equip fw-bold" style="font-size: 18px">
                          Equipment
                        </td>
                        <td class="buttons d-flex gap-2">
                          <button
                            class="btn_add btn-sm btn-primary"
                            data-bs-toggle="modal"
                            data-bs-target="#equipment_modal"
                          >
                            Add
                          </button>
                          <a href="equipment.html">
                            <button class="btn_view btn-sm btn-info">
                              View
                            </button>
                          </a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- Medicine Modal -->
          <div
            class="modal fade"
            id="medicine_modal"
            tabindex="-1"
            aria-labelledby="medicineModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-dialog-centered modal-lg">
              <div class="modal-content shadow-lg rounded-4">
                <div class="modal-header">
                  <h5 class="modal-title" id="medicineModalLabel">
                    Add Medicine
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <!-- Medicine Form -->
                <form id="form_medicine">
                  <div class="modal-body">
                    <!-- Medicine Id Field -->
                    <input type="hidden" name="medicine_id" id="medicine_id" />

                    <!-- Name Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="text"
                        name="name"
                        id="name"
                        placeholder="Name"
                      />
                      <label for="name">Name</label>
                    </div>

                    <!-- Usage Description Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="text"
                        name="usage_description"
                        id="usage_description"
                        placeholder="Usage Description"
                      />
                      <label for="usage_description">Usage Description</label>
                    </div>

                    <!-- Quantity Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="number"
                        name="quantity"
                        id="quantity"
                        placeholder="Quantity"
                      />
                      <label for="quantity">Quantity</label>
                    </div>

                    <!-- Unit Field (Dropdown for Delivery Packaging) -->
                    <div class="mb-3 form-floating">
                      <select class="form-control" name="unit" id="unit">
                        <!-- Units based on packaging and delivery format -->
                        <option value="capsule">Capsule</option>
                        <option value="tablet">Tablet</option>
                        <option value="inhaler">Inhaler</option>
                        <option value="box">Box</option>
                        <option value="pcs">Piece (pcs)</option>
                        <option value="bottle">Bottle</option>
                        <option value="carton">Carton</option>
                        <option value="strip">Strip</option>
                        <option value="vial">Vial</option>
                        <option value="ampule">Ampule</option>
                        <option value="pack">Pack</option>
                        <option value="jar">Jar</option>
                        <option value="syringe">Syringe</option>
                        <option value="tube">Tube</option>
                      </select>
                      <label for="unit">Unit</label>
                    </div>

                    <!-- Batch No Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="text"
                        name="batch_no"
                        id="batch_no"
                        placeholder="Batch No"
                      />
                      <label for="batch_no">Batch No</label>
                    </div>

                    <!-- Expiration Date Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="date"
                        name="expiration_date"
                        id="expiration_date"
                      />
                      <label for="expiration_date">Expiration Date</label>
                    </div>

                    <!-- Status Field -->
                    <div class="mb-3 form-floating">
                      <select
                        class="form-control"
                        name="medicine_status"
                        id="medicine_status"
                      >
                        <option value="Available">Available</option>
                        <option value="Out of Stock">Out of Stock</option>
                      </select>
                      <label for="medicine_status">Status</label>
                    </div>

                    <!-- Acquired Date Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="date"
                        name="date_acquired"
                        id="date_acquired"
                      />
                      <label for="date_acquired">Acquired Date</label>
                    </div>
                  </div>

                  <!-- Modal Footer -->
                  <div class="modal-footer">
                    <button
                      id="modal_close"
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                    <button type="submit" class="btn_save">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!-- End of Medicine Modal -->

          <!-- Update Medicine Modal -->
          <div
            class="modal fade"
            id="update_medicine_modal"
            tabindex="-1"
            aria-labelledby="updateMedicineModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content shadow-lg rounded-4">
                <div class="modal-header">
                  <h5 class="modal-title" id="updateMedicineModalLabel">
                    Update Medicine Quantity
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>

                <!-- Update Medicine Form -->
                <form id="form_update_medicine">
                  <div class="modal-body">
                    <!-- Medicine ID Field (Visible) -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="text"
                        name="medicine_id"
                        id="update_medicine_id"
                        placeholder="Medicine ID"
                        readonly
                      />
                      <label for="update_medicine_id">Medicine ID</label>
                    </div>

                    <!-- Quantity Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="number"
                        name="quantity"
                        id="update_quantity"
                        placeholder="Quantity"
                        required
                      />
                      <label for="update_quantity">Quantity</label>
                    </div>

                    <!-- Acquired Date Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="date"
                        name="date_acquired"
                        id="update_date_acquired"
                        required
                      />
                      <label for="update_date_acquired">Acquired Date</label>
                    </div>
                  </div>

                  <!-- Modal Footer -->
                  <div class="modal-footer">
                    <button
                      id="update_modal_close"
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                    <button type="submit" class="btn_save">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!-- End of Update Medicine Modal -->

          <!-- Equipment Modal -->
          <div
            class="modal fade"
            id="equipment_modal"
            tabindex="-1"
            aria-labelledby="equipmentModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-dialog-centered modal-lg">
              <div class="modal-content shadow-lg rounded-4">
                <div class="modal-header">
                  <h5 class="modal-title" id="equipmentModalLabel">
                    Equipment Details
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <!-- Equipment Form -->
                <form id="form_equipment" class="form_equipment">
                  <div class="modal-body">
                    <!-- Equipment Id Field -->
                    <input
                      type="hidden"
                      name="equipment_id"
                      id="equipment_id"
                    />

                    <!-- Name Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="text"
                        name="name"
                        id="name"
                        placeholder="Name"
                      />
                      <label for="name">Name</label>
                    </div>

                    <!-- Description Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="text"
                        name="description"
                        id="description"
                        placeholder="Description"
                      />
                      <label for="description">Description</label>
                    </div>

                    <!-- Quantity Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="number"
                        name="quantity"
                        id="quantity"
                        placeholder="Quantity"
                      />
                      <label for="quantity">Quantity</label>
                    </div>

                    <!-- Condition Field -->
                    <div class="mb-3 form-floating">
                      <select
                        class="form-control"
                        name="condition"
                        id="condition"
                      >
                        <option value="Good">Good</option>
                        <option value="Bad">Bad</option>
                      </select>
                      <label for="condition">Condition</label>
                    </div>

                    <!-- Acquired Date Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="date"
                        name="date_acquired"
                        id="date_acquired"
                      />
                      <label for="date_acquired">Acquired Date</label>
                    </div>
                  </div>

                  <!-- Modal Footer -->
                  <div class="modal-footer">
                    <button
                      id="modal_close"
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                    <button type="submit" class="btn_save">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!-- End of Equipment Modal -->
          <!-- Update Equipment Modal -->
          <div
            class="modal fade"
            id="update_equipment_modal"
            tabindex="-1"
            aria-labelledby="updateEquipmentModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content shadow-lg rounded-4">
                <div class="modal-header">
                  <h5 class="modal-title" id="updateEquipmentModalLabel">
                    Update Equipment Quantity
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>

                <!-- Update Equipment Form -->
                <form id="form_update_equipment">
                  <div class="modal-body">
                    <!-- Equipment ID Field (Visible) -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="text"
                        name="equipment_id"
                        id="update_equipment_id"
                        placeholder="Equipment ID"
                        readonly
                      />
                      <label for="update_equipment_id">Equipment ID</label>
                    </div>

                    <!-- Quantity Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="number"
                        name="quantity"
                        id="update_equipment_quantity"
                        placeholder="Quantity"
                        required
                      />
                      <label for="update_equipment_quantity">Quantity</label>
                    </div>

                    <!-- Acquired Date Field -->
                    <div class="mb-3 form-floating">
                      <input
                        class="form-control"
                        type="date"
                        name="date_acquired"
                        id="update_equipment_date_acquired"
                        required
                      />
                      <label for="update_equipment_date_acquired"
                        >Acquired Date</label
                      >
                    </div>
                  </div>

                  <!-- Modal Footer -->
                  <div class="modal-footer">
                    <button
                      id="update_modal_close"
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                    <button type="submit" class="btn_save">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!-- End of Update Equipment Modal -->
        </main>
      </div>
    </div>

    <script>
      function updateTimestamp() {
        const now = new Date();
        const time = now.toLocaleTimeString();
        const date = now.toLocaleDateString(undefined, {
          year: "numeric",
          month: "long",
          day: "numeric",
        });
        document.getElementById(
          "currentTimestamp"
        ).textContent = `${date} ${time}`;
      }
      updateTimestamp();
      setInterval(updateTimestamp, 1000);
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="js/system/supplies.js"></script>
  </body>
</html>
